machine:
    # Setting timezone takes quite a bit of time
    # timezone:
    #     Europe/Stockholm
    ruby:
    python:
    pre:
    environment:
        PATH: $PATH:$HOME/.evm/bin:$HOME/.cask/bin
        EMACS: evm-emacs
        with_x_toolkit: n
        with_xml2: y
dependencies:
    pre:
        - ci/prereqs.sh
    cache_directories:
        - "~/.evm"
        - "~/.evms"
        - "~/.cask"
test:
    override:
        - ci/evm-matrix.sh $CIRCLE_NODE_INDEX $CIRCLE_NODE_TOTAL:
            parallel: true
deployment:
    bitbucket:
        branch: master
        commands:
            - evm install --use emacs-25.1-travis
            - ci/publish.sh -c -u "Ola Nilsson" -e "ola.nilsson@gmail.com" buttercup-junit.el
